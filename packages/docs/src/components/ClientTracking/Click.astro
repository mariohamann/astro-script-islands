---
import ScriptIsland from "astro-script-islands/component"
---

<button id="click-button" disabled>Click me</button>

<ScriptIsland client:tracking>
  <script>
    import { track } from "./track.ts"

    const clickButton = document.getElementById("click-button")
    clickButton.disabled = false
    clickButton?.addEventListener("click", () => {
      track()
    })
    // demo:start
    window.dispatchEvent(new CustomEvent("island-hydrated"))
    // demo:end
  </script>
</ScriptIsland>
